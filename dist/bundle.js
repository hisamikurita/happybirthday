!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"norm",value:function(t,e,n){return(t-e)/(n-e)}},{key:"lerp",value:function(t,e,n){return(n-e)*t+e}},{key:"map",value:function(e,n,i,a,r){return t.lerp(t.norm(e,n,i),a,r)}},{key:"clamp",value:function(t,e,n){return Math.min(Math.max(t,Math.min(e,n)),Math.max(e,n))}},{key:"distance",value:function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}},{key:"distanceXY",value:function(t,e,n,i){var a=n-t,r=i-e;return Math.sqrt(a*a+r*r)}},{key:"circleCollision",value:function(e,n){return t.distance(e,n)<=e.radius+n.radius}},{key:"circlePointCollision",value:function(e,n,i){return t.distanceXY(e,n,i.x,i.y)<i.radius}},{key:"pointInRect",value:function(e,n,i){return t.inRange(e,i.x,i.x+i.width)&&t.inRange(n,i.y,i.y+i.height)}},{key:"inRange",value:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(e,n)}},{key:"rangeIntersect",value:function(t,e,n,i){return Math.max(t,e)>=Math.min(n,i)&&Math.min(t,e)<=Math.max(n,i)}},{key:"rectIntersect",value:function(e,n){return t.rangeIntersect(e.x,e.x+e.width,n.x,n.x+n.width)&&t.rangeIntersect(e.y,e.y+e.height,n.y,n.y+n.height)}},{key:"degreesToRads",value:function(t){return t/180*Math.PI}},{key:"radsToDegrees",value:function(t){return 180*t/Math.PI}},{key:"randomRange",value:function(t,e){return t+Math.random()*(e-t)}},{key:"randomInt",value:function(t,e){return Math.floor(t+Math.random()*(e-t+1))}},{key:"randomDist",value:function(e,n,i){for(var a=0,r=0;r<i;r+=1)a+=t.randomRange(e,n);return a/i}},{key:"randomColor",value:function(t){return t[Math.floor(Math.random()*t.length)]}}],(n=null)&&i(e.prototype,n),a&&i(e,a),t}();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s={},o=["#B1C8D8","#A6BFC3","#C9D8CD"];window.addEventListener("mousemove",(function(t){s.x=t.clientX,s.y=t.clientY}));var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=canvas.getContext("2d"),this.color=a.randomColor(o),this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.x2=Math.random()*this.canvas.width,this.y2=Math.random()*this.canvas.height,this.radius=2.5*Math.random()+1,this.vx=0,this.vy=0,this.vx2=0,this.vy2=0,this.friction=.05*Math.random()+.94,this.speed=20,this.angle=2*Math.PI*Math.random(),this.rotationSpeed=.001*Math.random()+.0015,this.distancex=a.randomDist(this.canvas.width/12,this.canvas.width/6+120,2),this.distancey=a.randomDist(this.canvas.height/6,this.canvas.height/4,6),this.x3=Math.cos(this.angle)*this.distancex+this.canvas.width/2,this.y3=Math.sin(this.angle)*this.distancey+this.canvas.height/2,this.rotationSpeed=.001*Math.random()+.0015,this.x4=e,this.y4=n,this.ax=10*(Math.random()-.5),this.ay=10*(Math.random()-.5)}var e,n,i;return e=t,(n=[{key:"load",value:function(){this.vx=(this.x2-this.x)/this.speed,this.vy=(this.y2-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy}},{key:"circle",value:function(){this.dist=a.distanceXY(this.x,this.y,s.x,s.y),this.angle+=this.rotationSpeed,this.vx=(this.x3-this.x)/this.speed,this.vy=(this.y3-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy,this.x3=Math.cos(this.angle)*this.distancex+this.canvas.width/2+this.vx2,this.y3=Math.sin(this.angle)*this.distancey+this.canvas.height/2+this.vy2,this.vx2*=this.friction,this.vy2*=this.friction,this.dist<20*this.radius&&(this.vx2+=this.ax*s.x,this.vy2+=this.ay*s.y)}},{key:"font",value:function(){this.vx=(this.x4-this.x)/this.speed,this.vy=(this.y4-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy}},{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.restore()}}])&&r(e.prototype,n),i&&r(e,i),t}();!function(){window.addEventListener("load",(function(){a.classList.add("is-active"),l(),v(),setTimeout((function(){cancelAnimationFrame(u),r.style.opacity=0,s.style.opacity=1,y()}),3e3),setTimeout((function(){cancelAnimationFrame(d),s.style.opacity=0,f()}),6e3)})),window.onresize=function(){n.width=window.innerWidth,n.height=window.innerHeight,c=[],l()};var t=document.createElement("canvas"),e=t.getContext("2d"),n=document.querySelector("#canvas"),i=n.getContext("2d"),a=document.querySelector("body"),r=document.querySelector("h1"),s=document.querySelector("p"),o=0,c=[],u=0,d=0;function l(){!function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}();var i=window.innerWidth,a=window.innerHeight;t.width=i,t.height=a,e.font="bold "+i/10+"px arial",e.textAlign="center",e.baseline="middle",e.fillText("Have a nice day",i/2,a/2+24);var r=e.getImageData(0,0,i,a).data;n.width=i,n.height=a;for(var s=0;s<i;s+=Math.round(i/120))for(var u=0;u<a;u+=Math.round(i/120))r[4*(s+u*i)+3]>120&&c.push(new h(s,u));o=c.length}function v(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.load(),e.draw()}u=requestAnimationFrame(v)}function y(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.circle(),e.draw()}d=requestAnimationFrame(y)}function f(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.font(),e.draw()}requestAnimationFrame(f)}}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVXRpbHMiLCJtaW4iLCJtYXgiLCJub3JtIiwic291cmNlTWluIiwic291cmNlTWF4IiwiZGVzdE1pbiIsImRlc3RNYXgiLCJsZXJwIiwiTWF0aCIsInAwIiwicDEiLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0IiwieDAiLCJ5MCIsIngxIiwieTEiLCJjMCIsImMxIiwiZGlzdGFuY2UiLCJyYWRpdXMiLCJjaXJjbGUiLCJkaXN0YW5jZVhZIiwicmVjdCIsImluUmFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1pbjAiLCJtYXgwIiwibWluMSIsIm1heDEiLCJyMCIsInIxIiwicmFuZ2VJbnRlcnNlY3QiLCJkZWdyZWVzIiwiUEkiLCJyYWRpYW5zIiwicmFuZG9tIiwiZmxvb3IiLCJpdGVyYXRpb25zIiwidG90YWwiLCJyYW5kb21SYW5nZSIsImNvbG9ycyIsImxlbmd0aCIsIm1vdXNlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJQYXJ0aWNsZSIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYW5kb21Db2xvciIsIngyIiwieTIiLCJ2eCIsInZ5IiwidngyIiwidnkyIiwiZnJpY3Rpb24iLCJzcGVlZCIsImFuZ2xlIiwicm90YXRpb25TcGVlZCIsImRpc3RhbmNleCIsInJhbmRvbURpc3QiLCJkaXN0YW5jZXkiLCJ4MyIsImNvcyIsInkzIiwic2luIiwieDQiLCJ5NCIsImF4IiwiYXkiLCJkaXN0Iiwic2F2ZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGxTdHlsZSIsImZpbGwiLCJyZXN0b3JlIiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImluaXQiLCJyZW5kZXIwMSIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImZyYW1lMDEiLCJ0aXRsZSIsInN0eWxlIiwib3BhY2l0eSIsInRleHQiLCJyZW5kZXIwMiIsImZyYW1lMDIiLCJyZW5kZXIwMyIsIm9ucmVzaXplIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicGFydGljbGVzIiwib2Zmc2NyZWVuY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsIm9mZnNjcmVlbmN0eCIsImFtb3VudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiV0lEVEgiLCJIRUlHSFQiLCJmb250IiwidGV4dEFsaWduIiwiYmFzZWxpbmUiLCJmaWxsVGV4dCIsImltZ0RhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwicm91bmQiLCJwdXNoIiwiY2xlYXJSZWN0IiwibG9hZCIsImRyYXciXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0Ys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VGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAgIHN0YXRpYyBub3JtKHZhbHVlLCBtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbGVycChub3JtLCBtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiAobWF4IC0gbWluKSAqIG5vcm0gKyBtaW47XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbWFwKHZhbHVlLCBzb3VyY2VNaW4sIHNvdXJjZU1heCwgZGVzdE1pbiwgZGVzdE1heCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5sZXJwKFV0aWxzLm5vcm0odmFsdWUsIHNvdXJjZU1pbiwgc291cmNlTWF4KSwgZGVzdE1pbiwgZGVzdE1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgTWF0aC5taW4obWluLCBtYXgpKSwgTWF0aC5tYXgobWluLCBtYXgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGlzdGFuY2UocDAsIHAxKSB7XHJcbiAgICAgICAgdmFyIGR4ID0gcDEueCAtIHAwLngsXHJcbiAgICAgICAgICAgIGR5ID0gcDEueSAtIHAwLnk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRpc3RhbmNlWFkoeDAsIHkwLCB4MSwgeTEpIHtcclxuICAgICAgICB2YXIgZHggPSB4MSAtIHgwLFxyXG4gICAgICAgICAgICBkeSA9IHkxIC0geTA7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNpcmNsZUNvbGxpc2lvbihjMCwgYzEpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuZGlzdGFuY2UoYzAsIGMxKSA8PSBjMC5yYWRpdXMgKyBjMS5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNpcmNsZVBvaW50Q29sbGlzaW9uKHgsIHksIGNpcmNsZSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5kaXN0YW5jZVhZKHgsIHksIGNpcmNsZS54LCBjaXJjbGUueSkgPCBjaXJjbGUucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwb2ludEluUmVjdCh4LCB5LCByZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmluUmFuZ2UoeCwgcmVjdC54LCByZWN0LnggKyByZWN0LndpZHRoKSAmJlxyXG4gICAgICAgICAgICBVdGlscy5pblJhbmdlKHksIHJlY3QueSwgcmVjdC55ICsgcmVjdC5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpblJhbmdlKHZhbHVlLCBtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSA+PSBNYXRoLm1pbihtaW4sIG1heCkgJiYgdmFsdWUgPD0gTWF0aC5tYXgobWluLCBtYXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYW5nZUludGVyc2VjdChtaW4wLCBtYXgwLCBtaW4xLCBtYXgxKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbjAsIG1heDApID49IE1hdGgubWluKG1pbjEsIG1heDEpICYmXHJcbiAgICAgICAgICAgIE1hdGgubWluKG1pbjAsIG1heDApIDw9IE1hdGgubWF4KG1pbjEsIG1heDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZWN0SW50ZXJzZWN0KHIwLCByMSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5yYW5nZUludGVyc2VjdChyMC54LCByMC54ICsgcjAud2lkdGgsIHIxLngsIHIxLnggKyByMS53aWR0aCkgJiZcclxuICAgICAgICAgICAgVXRpbHMucmFuZ2VJbnRlcnNlY3QocjAueSwgcjAueSArIHIwLmhlaWdodCwgcjEueSwgcjEueSArIHIxLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRlZ3JlZXNUb1JhZHMoZGVncmVlcykge1xyXG4gICAgICAgIHJldHVybiBkZWdyZWVzIC8gMTgwICogTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFkc1RvRGVncmVlcyhyYWRpYW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhZGlhbnMgKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYW5kb21SYW5nZShtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbUludChtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYW5kb21EaXN0KG1pbiwgbWF4LCBpdGVyYXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgdG90YWwgKz0gVXRpbHMucmFuZG9tUmFuZ2UobWluLCBtYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG90YWwgLyBpdGVyYXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYW5kb21Db2xvcihjb2xvcnMpIHtcclxuICAgICAgICByZXR1cm4gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuY29uc3QgbW91c2UgPSB7fTtcclxuY29uc3QgY29sb3JzID0gWycjQjFDOEQ4JywnI0E2QkZDMycsJyNDOUQ4Q0QnXTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBtb3VzZS54ID0gZXZlbnQuY2xpZW50WDtcclxuICBtb3VzZS55ID0gZXZlbnQuY2xpZW50WTtcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzJyk7XHJcbiAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB0aGlzLmNvbG9yID0gVXRpbHMucmFuZG9tQ29sb3IoY29sb3JzKTtcclxuICAgIHRoaXMueCA9IHRoaXMuY2FudmFzLndpZHRoIC8gMjtcclxuICAgIHRoaXMueSA9IHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICB0aGlzLngyID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgdGhpcy55MiA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB0aGlzLnJhZGl1cyA9IE1hdGgucmFuZG9tKCkgKiAyLjUgKyAxO1xyXG4gICAgdGhpcy52eCA9IDA7XHJcbiAgICB0aGlzLnZ5ID0gMDtcclxuICAgIHRoaXMudngyID0gMDtcclxuICAgIHRoaXMudnkyID0gMDtcclxuICAgIHRoaXMuZnJpY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogMC4wNSArIDAuOTQ7XHJcbiAgICB0aGlzLnNwZWVkID0gMjA7XHJcbiAgICB0aGlzLmFuZ2xlID0gTWF0aC5QSSAqIDIgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgdGhpcy5yb3RhdGlvblNwZWVkID0gTWF0aC5yYW5kb20oKSAqIC4wMDEgKyAuMDAxNTtcclxuICAgIHRoaXMuZGlzdGFuY2V4ID0gVXRpbHMucmFuZG9tRGlzdCh0aGlzLmNhbnZhcy53aWR0aCAvIDEyLCB0aGlzLmNhbnZhcy53aWR0aCAvIDYgKyAxMjAsIDIpO1xyXG4gICAgdGhpcy5kaXN0YW5jZXkgPSBVdGlscy5yYW5kb21EaXN0KHRoaXMuY2FudmFzLmhlaWdodCAvIDYsIHRoaXMuY2FudmFzLmhlaWdodCAvIDQuMCAsIDYpO1xyXG4gICAgdGhpcy54MyA9IE1hdGguY29zKHRoaXMuYW5nbGUpICogdGhpcy5kaXN0YW5jZXggKyB0aGlzLmNhbnZhcy53aWR0aCAvIDI7XHJcbiAgICB0aGlzLnkzID0gTWF0aC5zaW4odGhpcy5hbmdsZSkgKiB0aGlzLmRpc3RhbmNleSArIHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSBNYXRoLnJhbmRvbSgpICogLjAwMSArIC4wMDE1O1xyXG4gICAgdGhpcy54NCA9IHg7XHJcbiAgICB0aGlzLnk0ID0geTtcclxuICAgIHRoaXMuYXggPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMDtcclxuICAgIHRoaXMuYXkgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMDtcclxuICB9XHJcbiAgbG9hZCgpIHtcclxuICAgIHRoaXMudnggPSAodGhpcy54MiAtIHRoaXMueCkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy52eSA9ICh0aGlzLnkyIC0gdGhpcy55KSAvIHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLnggKz0gdGhpcy52eDtcclxuICAgIHRoaXMueSArPSB0aGlzLnZ5O1xyXG4gIH1cclxuICBjaXJjbGUoKSB7XHJcbiAgICB0aGlzLmRpc3QgPSBVdGlscy5kaXN0YW5jZVhZKHRoaXMueCwgdGhpcy55LCBtb3VzZS54LCBtb3VzZS55KTtcclxuICAgIHRoaXMuYW5nbGUgKz0gdGhpcy5yb3RhdGlvblNwZWVkO1xyXG4gICAgdGhpcy52eCA9ICh0aGlzLngzIC0gdGhpcy54KSAvIHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLnZ5ID0gKHRoaXMueTMgLSB0aGlzLnkpIC8gdGhpcy5zcGVlZDtcclxuICAgIHRoaXMueCArPSB0aGlzLnZ4O1xyXG4gICAgdGhpcy55ICs9IHRoaXMudnk7XHJcbiAgICB0aGlzLngzID0gTWF0aC5jb3ModGhpcy5hbmdsZSkgKiB0aGlzLmRpc3RhbmNleCArIHRoaXMuY2FudmFzLndpZHRoIC8gMiArIHRoaXMudngyO1xyXG4gICAgdGhpcy55MyA9IE1hdGguc2luKHRoaXMuYW5nbGUpICogdGhpcy5kaXN0YW5jZXkgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyICsgdGhpcy52eTI7XHJcbiAgICB0aGlzLnZ4MiAqPSB0aGlzLmZyaWN0aW9uO1xyXG4gICAgdGhpcy52eTIgKj0gdGhpcy5mcmljdGlvbjtcclxuICAgIGlmICh0aGlzLmRpc3QgPCB0aGlzLnJhZGl1cyAqIDIwKSB7XHJcbiAgICAgIHRoaXMudngyICs9IHRoaXMuYXggKiBtb3VzZS54O1xyXG4gICAgICB0aGlzLnZ5MiArPSB0aGlzLmF5ICogbW91c2UueTtcclxuICAgIH1cclxuICB9XHJcbiAgZm9udCgpIHtcclxuICAgIHRoaXMudnggPSAodGhpcy54NCAtIHRoaXMueCkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy52eSA9ICh0aGlzLnk0IC0gdGhpcy55KSAvIHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLnggKz0gdGhpcy52eDtcclxuICAgIHRoaXMueSArPSB0aGlzLnZ5O1xyXG4gIH1cclxuICBkcmF3KCkge1xyXG4gICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLmN0eC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgLy8gdGhpcy5jdHguZmlsdGVyID0gJ2JsdXIoMnB4KSc7XHJcbiAgICAvLyB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgdGhpcy5jdHguZmlsbCgpXHJcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUGFydGljbGUgfSBmcm9tICcuL3BhcnRpY2xlJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuKCgpID0+IHtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICByZW5kZXIwMSgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZTAxKTtcclxuICAgICAgICAgICAgdGl0bGUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHRleHQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHJlbmRlcjAyKCk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lMDIpO1xyXG4gICAgICAgICAgICB0ZXh0LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICByZW5kZXIwMygpO1xyXG4gICAgICAgIH0sIDYwMDApO1xyXG4gICAgfSlcclxuXHJcbiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICBwYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICBpbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2Zmc2NyZWVuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4ID0gb2Zmc2NyZWVuY2FudmFzLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhcycpLFxyXG4gICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxyXG4gICAgICAgIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JyksXHJcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoMScpLFxyXG4gICAgICAgIHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdwJyk7XHJcblxyXG5cclxuICAgIGxldCBhbW91bnQgPSAwLCBwYXJ0aWNsZXMgPSBbXSwgZnJhbWUwMSA9IDAsIGZyYW1lMDIgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgICAgIC8vIFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICBjb25zdCBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmZvbnQgPSBcImJvbGQgXCIgKyAoV0lEVEggLyAxMCkgKyBcInB4IGFyaWFsXCI7XHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIG9mZnNjcmVlbmN0eC5iYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgIG9mZnNjcmVlbmN0eC5maWxsVGV4dChcIkhhdmUgYSBuaWNlIGRheVwiLCBXSURUSCAvIDIsIEhFSUdIVCAvIDIgKyAyNCk7XHJcbiAgICAgICAgY29uc3QgaW1nRGF0YSA9IG9mZnNjcmVlbmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgV0lEVEgsIEhFSUdIVCkuZGF0YTtcclxuXHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcCA9IDEyMDtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IFdJRFRIOyB4ICs9IE1hdGgucm91bmQoV0lEVEggLyBza2lwKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IEhFSUdIVDsgeSArPSBNYXRoLnJvdW5kKFdJRFRIIC8gc2tpcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbWdEYXRhWygoeCArIHkgKiBXSURUSCkgKiA0KSArIDNdID4gc2tpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh4LCB5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYW1vdW50ID0gcGFydGljbGVzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXIwMSgpIHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC5sb2FkKCk7XHJcbiAgICAgICAgICAgIHAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmcmFtZTAxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcjAxKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbmRlcjAyKCkge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwID0gcGFydGljbGVzW2ldO1xyXG4gICAgICAgICAgICBwLmNpcmNsZSgpO1xyXG4gICAgICAgICAgICBwLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnJhbWUwMiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIwMik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW5kZXIwMygpIHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC5mb250KCk7XHJcbiAgICAgICAgICAgIHAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyMDMpO1xyXG4gICAgfVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=